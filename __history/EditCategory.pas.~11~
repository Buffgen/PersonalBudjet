unit EditCategory;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants,
  System.Classes, Vcl.Graphics, Vcl.Controls, Vcl.Forms, Vcl.Dialogs,
  Vcl.StdCtrls, Vcl.ExtCtrls, Vcl.Buttons;

type
  TFormEditCategory = class(TForm)
    PanelEditCategory: TPanel;
    EditCategoryOldName: TEdit;
    EditCategoryNewName: TEdit;
    LabelOldName: TLabel;
    LabelNewName: TLabel;
    ButtonAdd: TSpeedButton;
    ButtonExit: TSpeedButton;
    EditCategoryID: TEdit;
    LabelNewNameWarning: TLabel;
    Procedure ButtonAddClick(Sender: TObject);
    Procedure EditCategoryNewNameChange(Sender: TObject);
    Procedure ButtonExitClick(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FormEditCategory: TFormEditCategory;

implementation

{$R *.dfm}

uses Category;



Procedure TFormEditCategory.ButtonAddClick(Sender: TObject);
Begin
    {
     If Not ChangeCategoryName(EditCategoryID.Text, EditCategoryOldName.Text, EditCategoryNewName.Text) then
        LabelWarning.Visible := True;

        EditCategoryNewName.Text.Clear;
    }
End;


Procedure TFormEditCategory.FormShow(Sender: TObject);
Begin
    EditCategoryID.Visible := False;
    LabelNewNameWarning.Visible := False;
    LabelNewNameWarning.StyleElements := LabelNewNameWarning.StyleElements - [seFont];
    LabelNewNameWarning.Font.Color := clRed;
    LabelNewNameWarning.Font.Style := LabelNewNameWarning.Font.Style + [fsBold];

End;


Procedure TFormEditCategory.EditCategoryNewNameChange(Sender: TObject);
Begin
    If EditAccountName.Text = '' then
    Begin
        ButtonAdd.Enabled := False;
        LabelWarningName.Visible := False;
    End
    Else If FindLineInAccountList(EditAccountName.Text, 0, False) then
    Begin
        ButtonAdd.Enabled := False;
        LabelWarningName.Visible := True;
    End
    Else
    Begin
        ButtonAdd.Enabled := True;
        LabelWarningName.Visible := False;
    End;
End;


Procedure TFormEditCategory.ButtonExitClick(Sender: TObject);
Begin
    Close();
End;


Procedure TFormEditCategory.FormClose(Sender: TObject; Var Action: TCloseAction);
Begin
    EditCategoryNewName.Clear;
End;

End.
